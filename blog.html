<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog - Homna ltd</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
  <link rel="stylesheet" href="assets/css/blog.css">
  <!-- Marked.js for Markdown parsing -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- YAML parser for frontmatter -->
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
</head>
<body>

<nav class="navbar">
  <a href="index.html" class="logo">
    <img src="assets/image/logoen.png" alt="homna Logo">
  </a>
  <div class="hamburger-menu" style="color: black;">
    <div class="bar" style="background-color: black;"></div>
    <div class="bar" style="background-color: black;"></div>
    <div class="bar" style="background-color: black;"></div>
  </div>
  <div class="nav-overlay">
    <div class="menu-container">
      <div class="menu-content">
        <ul class="nav-links">
          <li><a href="index.html">Home</a><div class="underline"></div></li>
          <li><a href="about.html">About</a><div class="underline"></div></li>
          <li><a href="#" class="service-link">Solution</a><div class="underline"></div></li>
          <li><a href="projects.html">Projects</a><div class="underline"></div></li>
          <li><a href="blog.html">Blog</a><div class="underline"></div></li>
          <li><a href="contact.html">Contact</a><div class="underline"></div></li>
        </ul>
        <!-- Return Path Button -->
        <div class="return-path">
          <a href="#" class="return-path-button">Return</a>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- Solutions Grid -->
<div class="solutions-grid">
  <!-- Go Back Button -->
  <button class="go-back-button">‚Üê</button>

  <!-- Solution Links -->
  <div class="solution-item">
    <a href="solutions/Basement.html">Basement</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/Bathroom.html">Bathroom</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/Expansion-Joints.html">Expansion Joints</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/External-Wall.html">External Wall</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/internal-wall.html">Internal Wall</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/Plaster.html">Plaster</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/Roof.html">Roof</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/swimming-pool.html">Swimming Pool</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/Tile-Fixing.html">Tile Fixing</a>
  </div>
  <div class="divider"></div>

  <div class="solution-item">
    <a href="solutions/Water-Tank.html">Water Tank</a>
  </div>
</div>


<!-- Popup Modal -->
<div id="popup" class="popup">
  <div class="popup-content">
    <span class="close" onclick="closePopup()">&times;</span>
    <h2 id="popup-title"></h2>
    <img id="popup-image" src="" alt="">
    <div id="popup-text"></div>
  </div>
</div>

<!-- Blog Posts Section -->
<div class="container">
  <h1 class="section-title">News and blogs</h1>
  <div class="blog-grid" id="featured-posts">
    <!-- Left Column (Text Content) -->
    <div class="left-column" id="left-post"></div>

    <!-- Center Column (Main Blog) -->
    <div class="center-column" id="center-post"></div>

    <!-- Right Column (Side Blog) -->
    <div class="right-column" id="right-post"></div>
  </div>
</div>

<!-- Latest Posts Section -->
<section class="container">
  <h2 class="section-title">Latest Posts</h2>
  <div class="posts-grid" id="latest-posts">
    <!-- Posts will be inserted here by JavaScript -->
  </div>
</section>

<script>
  // ===== BLOG POST LOADING =====
  async function loadBlogPosts() {
      try {
          // Load featured posts
          const featuredPosts = await Promise.all([
              fetchMarkdownPost('content/blog/featured/arup-mou.md'),
              fetchMarkdownPost('content/blog/featured/main-blog.md'),
              fetchMarkdownPost('content/blog/featured/yantai-tower.md')
          ]);

          // Render featured posts
          renderFeaturedPosts(featuredPosts);

          // Load latest posts
          const latestPosts = await Promise.all([
              fetchMarkdownPost('content/blog/latest/post1.md'),
              fetchMarkdownPost('content/blog/latest/post2.md'),
              fetchMarkdownPost('content/blog/latest/post3.md')
          ]);

          // Render latest posts
          renderLatestPosts(latestPosts);

          // Initialize animations AFTER content is loaded
          initAnimations();

      } catch (error) {
          console.error("Error loading posts:", error);
      }
  }

  async function fetchMarkdownPost(path) {
      const response = await fetch(path);
      const md = await response.text();
      const [_, frontmatter, content] = md.match(/---\n([\s\S]+?)\n---\n([\s\S]+)/) || [];
      return {
          ...jsyaml.load(frontmatter),
          body: marked.parse(content.trim())
      };
  }

  function renderFeaturedPosts(posts) {
      // Left Post
      document.getElementById('left-post').innerHTML = `
          <div class="blog-card center-blog-text"
              onclick="openPopup('${posts[0].title}', '${posts[0].image}', '${posts[0].body}')">
              <h2 class="blog-title">${posts[0].title}</h2>
              <p class="blog-excerpt">${posts[0].excerpt}</p>
              <div class="date">${formatDate(posts[0].date)}</div>
          </div>
      `;

      // Center Post
      document.getElementById('center-post').innerHTML = `
          <div class="blog-card center-blog"
              onclick="openPopup('${posts[1].title}', '${posts[1].image}', '${posts[1].body}')">
              <div class="blog-image" style="background-image: url('${posts[1].image}')"></div>
          </div>
      `;

      // Right Post
      document.getElementById('right-post').innerHTML = `
          <div class="blog-card right-blog"
              onclick="openPopup('${posts[2].title}', '${posts[2].image}', '${posts[2].body}')">
              <div class="blog-image" style="background-image: url('${posts[2].image}')"></div>
              <h3 class="blog-title">${posts[2].title}</h3>
              <div class="date">${formatDate(posts[2].date)}</div>
          </div>
      `;
  }

  function renderLatestPosts(posts) {
      const container = document.getElementById('latest-posts');
      container.innerHTML = posts.map(post => `
          <div class="post-card"
              onclick="openPopup('${post.title}', '${post.image}', '${post.body}')">
              <div class="post-image" style="background-image: url('${post.image}')"></div>
              <h3 class="post-title">${post.title}</h3>
              <span class="post-date">${formatDate(post.date)}</span>
          </div>
      `).join('');
  }

  function formatDate(dateString) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString(undefined, options);
  }

  // ===== EXISTING FUNCTIONALITY =====
  function initAnimations() {
      // GSAP Animations
      gsap.to(".blog-card", {
          opacity: 1,
          y: 0,
          duration: 1,
          stagger: 0.2,
          scrollTrigger: {
              trigger: ".container",
              start: "top center"
          }
      });

      gsap.from(".post-card", {
          duration: 0.8,
          autoAlpha: 0,
          y: 30,
          stagger: 0.15,
          ease: "power2.out",
          scrollTrigger: {
              trigger: ".posts-grid",
              start: "top 80%"
          }
      });
  }

  function openPopup(title, image, content) {
      const popup = document.querySelector('.popup');
      const popupTitle = document.getElementById('popup-title');
      const popupImage = document.getElementById('popup-image');
      const popupText = document.getElementById('popup-text');

      popupTitle.textContent = title;
      popupImage.src = image;
      popupText.innerHTML = content;

      popup.style.display = 'flex';
      setTimeout(() => {
          popup.classList.add('show');
      }, 50);

      // Close the popup when clicking outside
      popup.addEventListener('click', (e) => {
          if (e.target === popup) closePopup();
      });
  }

  function closePopup() {
      const popup = document.querySelector('.popup');
      popup.classList.remove('show');
      setTimeout(() => {
          popup.style.display = 'none';
      }, 300);
  }

  // Load everything when DOM is ready
  document.addEventListener('DOMContentLoaded', loadBlogPosts);
</script>


<footer class="footer">
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-text">
        <p class="animated-text">Connecting worlds through innovation. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel magna sit amet nulla efficitur vestibulum.</p>
      </div>
      <div class="footer-links">
        <div class="footer-links-col">
          <a href="about.html" class="hover-grow">About</a>
          <a href="solutions" class="hover-grow">Services</a>
          <a href="solutions" class="hover-grow">Products</a>
          <a href="projects.html" class="hover-grow">Projects</a>
        </div>
        <div class="footer-links-col">
          <a href="blog.html" class="hover-grow">News</a>
          <a href="contact.html" class="hover-grow">Contact</a>
        </div>
      </div>
    </div>

    <!-- Footer Line -->
    <div class="footer-line glow-line"></div>

    <!-- Bottom Links -->
    <div class="footer-bottom">
      <div class="footer-bottom-links">
        <a href="commitment.html" class="link-underline">Commitment</a>
        <a href="privacy.html" class="link-underline">Privacy Policy</a>
        <a href="legal.html" class="link-underline">Legal Information</a>
        <a href="suppliers.html" class="link-underline">Suppliers</a>
        <a href="cookie.html" class="link-underline">Cookie Policy</a>
      </div>
    </div>

    <!-- Footer Line -->
    <div class="footer-line glow-line"></div>

    <!-- Location Section -->
    <div class="footer-locations">
      <div class="location-container">
        <a href="https://maps.google.com/maps?q=mainoffice+remera+1+kk+st.+4+mnamn" target="_blank" class="location-link">üìç Main Office, Remera 1 KK St. 4 Mnamn</a>
        <a href="https://maps.google.com/maps?q=new+york" target="_blank" class="location-link">üìç New York</a>
        <a href="https://maps.google.com/maps?q=london" target="_blank" class="location-link">üìç London</a>
      </div>
    </div>

    <!-- Social Section -->
    <div class="footer-social">
      <p class="logo-glow">@HOMNA 2025</p>
      <div class="social-icons">
        <a href="#" class="social-icon hover-float">
          <img src="assets/image/Linkedin.png" alt="Facebook">
        </a>
        <a href="#" class="social-icon hover-float">
          <img src="assets/image/X.png" alt="LinkedIn">
        </a>
        <a href="#" class="social-icon hover-float">
          <img src="assets/image/Insta.png" alt="LinkedIn">
        </a>
      </div>
    </div>

    <!-- Footer Logo -->
    <div class="footer-logo">
      <p class="logo-glow">HOMNA</p>
    </div>


  </footer>

<script src="assets/js/blog.js"></script>
</body>
</html>
